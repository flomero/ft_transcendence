
<div class="pt-8 w-full flex items-center justify-center flex-col">
  <div class="text-xl text-bg-muted" id="time"></div>
  <canvas id="gameCanvas" data-userid={{userId}} data-tps={{tps}}></canvas>
</div>

<div class="flex flex-col items-center">
  {{#if (eq users.length 2)}}
    {{!-- Two players case: current user on left, other player on right --}}
    <div class="flex justify-between gap-8 mt-16 w-full max-w-3xl">
      {{#each users as |user|}}
        {{#if (eq user.userId ../userId)}}
          {{#> components/game/user user=user}}
          {{/components/game/user}}
        {{/if}}
      {{/each}}
      {{#each users as |user|}}
        {{#unless (eq user.userId ../userId)}}
          {{#> components/game/user
            user=user
            reversed=true
          }}
          {{/components/game/user}}
        {{/unless}}
      {{/each}}
    </div>
  {{else}}
    <div class="flex flex-wrap gap-8 mt-16 justify-center">
      {{#each users as |user|}}
        {{#if (eq user.userId ../userId)}}
          {{#> components/game/user user=user}}
          {{/components/game/user}}
        {{/if}}
      {{/each}}
      {{#each users as |user|}}
        {{#unless (eq user.userId ../userId)}}
          {{#> components/game/user user=user }}
          {{/components/game/user}}
        {{/unless}}
      {{/each}}
    </div>
    <p class="text-fg-muted text-xs pt-8">counting goals received</p>
  {{/if}}
</div>

<div class="flex flex-col items-center mt-8">
    <a class="text-sm text-fg-muted underline italic cursor-pointer" href="/games/leave">Leave</a>
</div>

