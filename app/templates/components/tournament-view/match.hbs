<div
  id="{{match.tournamentId}}-{{match.id}}"
  class="match border bg-black-200 mt-2 mb-2 p-2 rounded-lg"
>
  <table class="table-fixed text-sm font-mono border-separate border-spacing-x-2 border-spacing-y-3">
    <tbody>
    {{#each match.players as |player playerIndex|}}
      <tr class="pb-2">
        <!-- Player name -->
        <td class="pr-2">
          <div class="font-semibold w-[200px] truncate">
            {{player.name}}
          </div>
        </td>

       {{#if player.isReady}}
          <!-- Win-count badge, colour depends on leadPlayer -->
          {{#if (eq ../match.leadPlayer playerIndex)}}
            {{> components/tournament-view/score-cell score=player.winCount isWinner=true}}
          {{else if (eq ../match.leadPlayer -1)}}
            {{> components/tournament-view/score-cell score=player.winCount isWinner=false}}
          {{else}}
            {{> components/tournament-view/score-cell score=player.winCount isWinner=false}}
          {{/if}}

          <!-- Separator -->
          <td class="px-2 text-gray-500">|</td>

          <!-- Per-game scores -->
          {{#each player.score as |score gameIndex|}}
            {{> components/tournament-view/score-cell
              score=score
              isWinner=(eq (lookup ../../match.gameWinners gameIndex) playerIndex)
            }}

          {{/each}}
        {{/if}}
      </tr>
    {{/each}}
    </tbody>
  </table>

  {{#if (eq match.status "ONGOING")}}
    <div class="mt-4">
      <h3 class="text-lg font-bold text-yellow-400">
        Game {{add match.currentGame 1}} in progress
      </h3>
      <p class="text-sm">
        Started at: {{formatDate match.startTime "HH:mm"}}
      </p>
      <p class="text-sm">
        Duration:
        <span class="elapsed-time" data-start="{{match.startTime}}"></span>
        <span>{{match.startTime}}</span>
      </p>
    </div>
  {{/if}}
</div>
